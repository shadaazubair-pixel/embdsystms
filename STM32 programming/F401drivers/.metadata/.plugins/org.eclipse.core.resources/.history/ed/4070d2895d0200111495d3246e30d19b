/*
 * stm32f401re_gpio_driver.c
 *
 *  Created on: Jan 27, 2026
 *      Author: user
 */
#include "stm32f401xx_gpio_driver.h"
#include "stm32f401xx.h"

// GPIO_PerClockControl(GPIOA,ENABLE);


/*********************************************************************
 * @fn          - GPIO_PeriClockControl
 *
 * @brief       - Enables or disables peripheral clock for GPIO port(GPIOA, GPIOB,....GPIOH)
 *
 * @param[in]   - pGPIOx: GPIO port base address
 * @param[in]   - EnorDi: ENABLE or DISABLE macros
 *
 * @return      - none
 *
 * @Note        - none
 *********************************************************************/
void GPIO_PeriClockControl(GPIO_RegDef_t *pGPIOx, uint8_t  EnorDi){

	if(EnorDi == ENABLE)
	{
		if(pGPIOx == GPIOA)
		{
			GPIOA_PCLK_EN();
		}
		else if(pGPIOx == GPIOB)
		{
			GPIOB_PCLK_EN();
		}
		else if(pGPIOx == GPIOC)
		{
			GPIOC_PCLK_EN();
		}
		else if(pGPIOx == GPIOD)
		{
			GPIOD_PCLK_EN();
		}
		else if(pGPIOx == GPIOE)
		{
			GPIOE_PCLK_EN();
		}
		else if(pGPIOx == GPIOH)
		{
			GPIOH_PCLK_EN();
		}


	}

	else
	{
		if(pGPIOx == GPIOA )
		{
			GPIOA_PCLK_DI();
		}

		else if(pGPIOx == GPIOB)
		{
			GPIOB_PCLK_DI();
		}
		else if(pGPIOx == GPIOB)
		{
			GPIOB_PCLK_DI();
				}
		else if(pGPIOx == GPIOC)
		{
			GPIOC_PCLK_DI();
		}
		else if(pGPIOx == GPIOD)
		{
			GPIOD_PCLK_DI();
		}
		else if(pGPIOx == GPIOE)
		{
			GPIOE_PCLK_DI();
		}
		else if(pGPIOx == GPIOH)
		{
			GPIOH_PCLK_DI();
		}


	}

}

/*********************************************************************
 * @fn          - GPIO_Init
 *
 * @brief       - this function initializes the given GPIO port
 *
 * @param[in]   - pGPIOHandle : pointer to GPIO handle structure
 * @param[in]   - EnorDi: ENABLE or DISABLE macros
 *
 * @return      - none
 *
 * @Note        - refer macros for gpio configurations
 *********************************************************************/

void GPIO_Init(GPIO_Handle_t*pGPIOHandle){
	//enable peripheral clock
	GPIO_PeriClockControl(pGPIOHandle->pGPIOx, ENABLE);

	pGPIOHandle->GPIO_PinConfig.GPIO_PinMode

}
void GPIO_DeInit(GPIO_RegDef_t *pGPIOx){

}


/*********************************************************************
 * @fn          - GPIO_Readfrominputpin
 *
 * @brief       - this function is used to read value in gpio pin
 *
 * @param[in]   - pGPIOx: points to GPIO_RegDef_t structure
 * @param[in]   - pin number
 *
 * @return      - uint8_t value(value inside that pin either 0 or 1)
 *
 * @Note        - none
 *********************************************************************/
uint8_t GPIO_Readfrominputpin(GPIO_RegDef_t *pGPIOx, uint8_t PinNumber){

	uint8_t value;
	value = (uint8_t)((pGPIOx-->IDR >> PinNumber)&0x00000001);
	return value;

}


/*********************************************************************
 * @fn          - GPIO_Readfrominputport
 *
 * @brief       - this function is used to read value in gpio port
 *
 * @param[in]   - pGPIOx: GPIO port base address

 *
 * @return      - uint16_t
 *
 * @Note        - none
 *********************************************************************/
uint16_t GPIO_Readfrominputport(GPIO_RegDef_t *pGPIOx){
	uint16_t value;
	value= (uint16_t)pGPIOx-->IDR;
	return value;

}

/*********************************************************************
 * @fn          - GPIO_Writetoputputpin
 *
 * @brief       - this function is used to Write value to ouput pin
 *
 * @param[in]   - pGPIOx: GPIO port base address
 * @param[in]   - pin number
 * @param[in]   - value

 *
 * @return      - none
 *
 * @Note        - none
 *********************************************************************/

void GPIO_Writetooutputpin(GPIO_RegDef_t *pGPIOx, uint8_t PinNumber, uint8_t Value){
	if(Value == GPIO_SET_PIN)
	{
		pGPIOx-->ODR|=(1<<PinNumber);  //write 1
	}

	else
	{
		pGPIOx-->ODR&=~(1<<PinNumber);  //write 0

	}
}

/*********************************************************************
 * @fn          - GPIO_Writetoputputport
 *
 * @brief       - this function is used to Write value to ouput port
 *
 * @param[in]   - pGPIOx: GPIO port base address
 *
 * @param[in]   - value

 *
 * @return      - none
 *
 * @Note        - none
 *********************************************************************/

void GPIO_Writetooutputport(GPIO_RegDef_t *pGPIOx, uint8_t Value){
	pGPIOx-->ODR= value;
}



/*********************************************************************
 * @fn          - GPIO_Toggle outputpin
 *
 * @brief       - this function is used to toggle a pin
 *
 * @param[in]   - pGPIOx: GPIO port base address
 * @param[in]   - pin number
 *

 *
 * @return      - none
 *
 * @Note        - none
 *********************************************************************/

void GPIO_Toggleoutputpin(GPIO_RegDef_t *pGPIOx, uint8_t PinNumber){
	pGPIOx-->ODR^=(1<<PinNumber);
}
